<div id="variantDisplay" class="tab-pane fade in" ng-init="init()">
    <div class="row">
        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
            <h2>Search Criteria</h2>
        </div>
    </div>
    <br />
    <div class="row">
        <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12">
            <div class="input-group input-group-sm">
                <span class="input-group-addon"><b>Gene Name:</b></span>
                <input type="text" ng-model="geneName" id="variantGeneName" class="form-control" placeholder="(eg. BRAF)">
            </div>
        </div>
        <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12">
            <div class="input-group input-group-sm">
                <span class="input-group-addon"><b>Mutation:</b></span>
                <input type="text" ng-model="mutation" id="variantMutation" class="form-control" placeholder="(eg. V600E)">
            </div>
        </div>
        <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12">
            <select chosen ng-model='selectedTumorType' id="tumorTypesDropDown" ng-options='tumorType.name for tumorType in tumorTypes' allow-single-deselect="true" data-placeholder="Choose a tumor type (eg. lung cancer)">
            </select>
        </div>
        <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12">
            <div class="btn-group btn-group-sm">
                <button id="searchVariantBtn" type="button" ng-click="search()" class="btn btn-default">Search</button>
                <button id="useExampleBtn" type="button" ng-click="useExample()" class="btn btn-default">Use example</button>
            </div>
        </div>
    </div>
    <br/>
    <div class="row">
        <div>
            <img id='variant_loader' ng-show='rendering' src="images/ajax-loader.gif"/>
        </div>
    </div>
    <div class="row" ng-show="annotation">
        <div id="variantDisplayResult" class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
            <table class='table'>
                <thead>
                    <tr style='background-color: lightgrey;font-weight: bold;'>
                        <td>Gene Name</td>
                        <td>Mutation</td>
                        <td>Tumor Type</td>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>{{geneName}}</td>
                        <td>{{mutation}}</td>
                        <td>{{selectedTumorType.name}}</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
    <div class="row">
        <div  class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
            <div ng-repeat="(key, value) in displayParts" ng-show="annotation[value.objectName]">
                <div id="{{key}}">
                    <h2>{{value.displayName}}</h2>
                    <p ng-bind-html="findRegex(annotation[value.objectName].description)"></p>
                </div>
            </div>
        </div>
        <div id="variantDisplayResult" class="col-lg-12 col-md-12 col-sm-12 col-xs-12"  ng-show="annotation.cancer_type">
            <h2>Cancer Type</h2>

            <accordion close-others="oneAtATime">
                <accordion-group ng-repeat="cancerType in annotation.cancer_type">
                <accordion-heading>
                    {{cancerType.type}}&nbsp;&nbsp;&nbsp;<span ng-if="cancerType.relevant_to_patient_disease && cancerType.relevant_to_patient_disease.toLowerCase() === 'yes'" style='color: green; font-size:12px; font-weight:bold'><i>RELEVANT</i></span>
                </accordion-heading>
                <table class='table table-bordered'>
                    <tbody>
                        <tr ng-repeat="summaryTitle in summaryTableTitles">
                            <td><h5>{{summaryTitle}}</h5></td>
                            <td>
                                <!--Generate multiple contents in one td cell-->
                                <div ng-if='cancerType.hasOwnProperty(content)' ng-repeat="content in summaryTableTitlesContent[summaryTitle]">
                                    <h4>{{displayProcess(content)}}</h4>
                                    <!--Repeat by content attributes(sensitive_to, resistant_to)-->
                                    <div ng-if="specialAttr.indexOf(content) !== -1" ng-repeat="(key, value) in cancerType[content]">

                                        <!--Repeat by number of content attribute(first sensitive_to, second sensitive_to....)-->
                                        <div ng-repeat="senitive in value">

                                            <!--Repeat by treament numbers-->
                                            <div ng-repeat="treament in senitive.treatment">

                                                <!--Repeat by drug numbers-->
                                                <div ng-repeat="drug in treament.drug">
                                                    <h5><b>
                                                    <span ng-if="key === 'sensitive_to'">{{drug.name}}</span>
                                                    <span ng-if="key !== 'sensitive_to'">{{displayProcess(key) + ": " + drug.name}}</span>
                                                    </b>
                                                    <img ng-if="fdaApproved(drug)" src='images/approved.svg' class='icon'></img>
                                                    </h5>
                                                    <p ng-if="senitive.level_of_evidence_for_patient_indication.level" ng-bind-html="findRegex(senitive.description + '<br/>Highest Level of Evidence: ' + senitive.level_of_evidence_for_patient_indication.level)"></p>
                                                    <p ng-if="!senitive.level_of_evidence_for_patient_indication.level" ng-bind-html="findRegex(senitive.description)"></p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div ng-if="content === 'nccn_guidelines'" ng-repeat="nccn in cancerType[content]">
                                    <p ng-bind-html="generateNCCN(nccn)"></p>
                                    </div>

                                    <div ng-if="content === 'clinical_trial'" ng-repeat="trial in cancerType[content]" class="annotationClinicalTrial">
                                        <span ng-bind-html="generateTrial(trial)"></span>
                                        <span>PURPOSE</span><img  ng-click="setCollapsed(trial, 'purpose')" ng-src="{{getCollapseIcon(trial, 'purpose')}}" class='icon'></img>
                                        <div collapse="isCollapsed[trial.trial_id]['purpose']">
                                            <div class="well well-lg">{{trial.purpose}}</div>
                                        </div>
                                        <span>ELIGIBILITY CRITERIA</span><img  ng-click="setCollapsed(trial, 'eligibility_criteria')" ng-src="{{getCollapseIcon(trial, 'eligibility_criteria')}}" class='icon'></img>
                                        <div collapse="isCollapsed[trial.trial_id]['eligibility_criteria']">
                                            <div class="well well-lg">{{trial.eligibility_criteria}}</div>
                                        </div>
                                    </div>

                                    <div ng-if="content !== 'nccn_guidelines' && content !== 'clinical_trial' && content !== specialAttr.indexOf(content) === -1">
                                    <p ng-bind-html="findRegex(cancerType[content].description)"></p>
                                    </div>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>

                </accordion-group>
            </accordion>
        </div>
    </div>
</div>